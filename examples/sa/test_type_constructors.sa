import Std.types: Result, Maybe, Either
import Std.io: writeln

fn foo<$t>(x is $t) -> Result<$t, String> {
    switch x {
        case 42 => Ok<x>
        case _ => Error<"Bad value">
    }
}

fn bar() {
    switch foo<Int>(42) { // <Int> can be omitted
        case Ok<?value> => writeln("%value")
        case Error<?reason> => writeln("%reason")
    }
}
